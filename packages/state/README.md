# `@ector/state`

[![npm version](https://badge.fury.io/js/%40ector%2Fstate.svg)](https://badge.fury.io/js/%40ector%2Fstate)

`@ector/state` allows activation value propagation within a [`@ector/concept-network`](../concept-network).

## Usage

```js
const conceptNetwork = require('@ector/concept-network');
const cns = require('@ector/state');

let cn = conceptNetwork.addNode({}, 'ECTOR');
cn = conceptNetwork.addNode(cn, 'knows');
cn = conceptNetwork.addNode(cn, 'Achille');

cn = conceptNetwork.addLink(cn, 'ECTOR', 'knows');
cn = conceptNetwork.addLink(cn, 'knows', 'Achille');

let cns = cns.activate({}, 'ECTOR');
cns = cnsPropagate(cn, cns);
```

will give

```json
{ "ECTOR": { "value": 59.500004166625004, "age": 1, "old": 100 },
  "knows": { "value": 63.40844023393148, "age": 0, "old": 0 } }
```

## Functions

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

-   [ConceptNetworkState](#conceptnetworkstate)
-   [ConceptNetworkNodeState](#conceptnetworknodestate)
    -   [Properties](#properties)
-   [activate](#activate)
    -   [Parameters](#parameters)
-   [getActivationValue](#getactivationvalue)
    -   [Parameters](#parameters-1)
-   [getOldActivationValue](#getoldactivationvalue)
    -   [Parameters](#parameters-2)
-   [getMaxActivationValue](#getmaxactivationvalue)
    -   [Parameters](#parameters-3)
-   [getActivatedTypedNodes](#getactivatedtypednodes)
    -   [Parameters](#parameters-4)
-   [setActivationValue](#setactivationvalue)
    -   [Parameters](#parameters-5)
-   [propagate](#propagate)
    -   [Parameters](#parameters-6)
-   [mapObjIndexed](#mapobjindexed)
-   [influenceNb](#influencenb)
-   [influenceValue](#influencevalue)

### ConceptNetworkState

Type: ([Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)&lt;[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String), [ConceptNetworkNodeState](#conceptnetworknodestate)> | {})

### ConceptNetworkNodeState

Type: [Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)&lt;[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String), any>

#### Properties

-   `value` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** Node's activation value
-   `old` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)?** Node's old activation value
-   `age` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)?** Number of propagations

### activate

Activate the node which `label` is given

#### Parameters

-   `cns` **[ConceptNetworkState](#conceptnetworkstate)** 
-   `label` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[ConceptNetworkState](#conceptnetworkstate)** 

### getActivationValue

Get the activation value of the node which `label` is given

#### Parameters

-   `cns` **[ConceptNetworkState](#conceptnetworkstate)** 
-   `label` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **([number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number) \| [undefined](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined))** 

### getOldActivationValue

Get the activation value of a node (which `label` is given)

#### Parameters

-   `cns` **[ConceptNetworkState](#conceptnetworkstate)** 
-   `label` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **([number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number) \| [undefined](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined))** 

### getMaxActivationValue

Get the maximum activation value of all nodes which label starts with
`beginning`.

#### Parameters

-   `cns` **[ConceptNetworkState](#conceptnetworkstate)** 
-   `beginning` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)**  (optional, default `''`)

Returns **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

### getActivatedTypedNodes

Return an object associating nodes labels with their activation values, but
only for labels starting with `beginning` and activation values greater or
equal to `threshold`.

#### Parameters

-   `cns` **[ConceptNetworkState](#conceptnetworkstate)** 
-   `beginning` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)**  (optional, default `''`)
-   `threshold` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)**  (optional, default `95`)

### setActivationValue

Set the activation `value` of a node `label`.

#### Parameters

-   `cns` **[ConceptNetworkState](#conceptnetworkstate)**  (optional, default `{}`)
-   `label` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `value` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

Returns **[ConceptNetworkState](#conceptnetworkstate)** 

### propagate

Propagate the activation values along the links.

#### Parameters

-   `cn` **ConceptNetwork** 
-   `cns` **[ConceptNetworkState](#conceptnetworkstate)** 
-   `options`   (optional, default `{decay:40,memoryPerf:100}`)

Returns **[ConceptNetworkState](#conceptnetworkstate)** 

### mapObjIndexed

### influenceNb

### influenceValue
